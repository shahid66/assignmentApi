{"ast":null,"code":"import _slicedToArray from\"F:/Ostad/express/Faisalvai/heroku/todotaskmanager-shahid/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{getProfileData,ProfileUpdateRequest}from'../../API/APIRequest';import{getBase64,IsEmail,IsEmpty,IsMobile}from'../helper/Delete/FormHelper/FormHelper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),photoBs=_useState2[0],setPhotoBs=_useState2[1];var emailRef,firstNameRef,lastNameRef,phoneRef,passwordRef,userImgView,userImgRef=useRef();useEffect(function(){getProfileData();},[]);var profile=useSelector(function(state){return state.profile.value;});var _useState3=useState('password'),_useState4=_slicedToArray(_useState3,2),view=_useState4[0],setView=_useState4[1];var handleViewPass=function handleViewPass(){if(view===\"password\"){setView('text');}else{setView('password');}};var PreviewImg=function PreviewImg(){var image=userImgRef.files[0];getBase64(image).then(function(result){userImgView.src=result;setPhotoBs(result);});};var navigate=useNavigate();var onSubmit=function onSubmit(){var email=emailRef.value;var f_name=firstNameRef.value;var l_name=lastNameRef.value;var phone=phoneRef.value;var password=passwordRef.value;var photo=userImgView.src;if(IsEmail(email)){toast.error('Email required',{position:\"bottom-center\"});}else if(IsEmpty(f_name)){toast.error('first name required',{position:\"bottom-center\"});}else if(IsEmpty(l_name)){toast.error('last name required',{position:\"bottom-center\"});}else if(IsMobile(phone)){toast.error('Phone Number required',{position:\"bottom-center\"});}else if(IsEmpty(password)){toast.error('Password required',{position:\"bottom-center\"});}else{console.log(email,f_name,l_name,phone,password,photo);ProfileUpdateRequest(email,f_name,l_name,phone,password,photo).then(function(result){if(result===true){navigate('/');}});}};return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard__wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard__search__task\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"signup__form__wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup__form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Profile Update\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__img\",children:[/*#__PURE__*/_jsx(\"img\",{ref:function ref(input){return userImgView=input;},src:profile.photo,alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{onChange:PreviewImg,ref:function ref(input){return userImgRef=input;},type:\"file\",placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup__field\",children:[/*#__PURE__*/_jsx(\"input\",{defaultValue:profile.email,ref:function ref(input){return emailRef=input;},type:\"text\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:profile.firstName,ref:function ref(input){return firstNameRef=input;},type:\"text\",placeholder:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:profile.lastName,ref:function ref(input){return lastNameRef=input;},type:\"text\",placeholder:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:profile.mobile,ref:function ref(input){return phoneRef=input;},type:\"text\",placeholder:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:profile.password,ref:function ref(input){return passwordRef=input;},type:view,placeholder:\"Password\"}),\" \",/*#__PURE__*/_jsx(\"span\",{onClick:handleViewPass,children:\"view password\"}),/*#__PURE__*/_jsx(\"input\",{onClick:onSubmit,className:\"signup__btn\",type:\"button\",value:\"Update\"})]})]})})})]})});};export default Profile;","map":{"version":3,"names":["React","useEffect","useRef","useState","useSelector","useNavigate","toast","getProfileData","ProfileUpdateRequest","getBase64","IsEmail","IsEmpty","IsMobile","Profile","photoBs","setPhotoBs","emailRef","firstNameRef","lastNameRef","phoneRef","passwordRef","userImgView","userImgRef","profile","state","value","view","setView","handleViewPass","PreviewImg","image","files","then","result","src","navigate","onSubmit","email","f_name","l_name","phone","password","photo","error","position","console","log","input","firstName","lastName","mobile"],"sources":["F:/Ostad/express/Faisalvai/heroku/todotaskmanager-shahid/client/src/Components/Profile/Profile.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { getProfileData, ProfileUpdateRequest } from '../../API/APIRequest';\r\nimport { getBase64, IsEmail, IsEmpty, IsMobile } from '../helper/Delete/FormHelper/FormHelper';\r\n\r\nconst Profile = () => {\r\n  const[photoBs,setPhotoBs]=useState(\"\")\r\n  let emailRef,firstNameRef,lastNameRef,phoneRef,passwordRef,userImgView,userImgRef=useRef();\r\n  useEffect(()=>{\r\n    getProfileData()\r\n  },[])\r\n  let profile=useSelector((state)=>state.profile.value);\r\n  const [view,setView]=useState('password')\r\n  const handleViewPass=()=>{\r\n    if(view===\"password\"){\r\n      setView('text')\r\n    }else{\r\n      setView('password')\r\n    }\r\n  }\r\n  const PreviewImg=()=>{\r\n    let image=userImgRef.files[0]\r\n    \r\n    getBase64(image).then(result=>{\r\n      userImgView.src=result\r\n      setPhotoBs(result)\r\n    })\r\n  }\r\n  let navigate=useNavigate()\r\n  \r\n  \r\n  const onSubmit=()=>{\r\n    let email=emailRef.value;\r\n    let f_name=firstNameRef.value;\r\n    let l_name=lastNameRef.value;\r\n    let phone=phoneRef.value;\r\n    let password=passwordRef.value;\r\n    let photo=userImgView.src\r\n    \r\n\r\n\r\n   if(IsEmail(email)){\r\n      toast.error('Email required',{\r\n        position: \"bottom-center\"})\r\n    }\r\n    else if(IsEmpty(f_name)){\r\n      toast.error('first name required',{\r\n        position: \"bottom-center\"})\r\n    }else if(IsEmpty(l_name)){\r\n      toast.error('last name required',{\r\n        position: \"bottom-center\"})\r\n    }else if(IsMobile(phone)){\r\n      toast.error('Phone Number required',{\r\n        position: \"bottom-center\"})\r\n    }else if(IsEmpty(password)){\r\n      toast.error('Password required',{\r\n        position: \"bottom-center\"})\r\n    }else{\r\n      console.log(email,f_name,l_name,phone,password, photo)\r\n      ProfileUpdateRequest(email,f_name,l_name,phone,password,photo).then(result=>{\r\n        if(result===true){\r\n          navigate('/')\r\n        }\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  \r\n  return (\r\n    <div className='dashboard'>\r\n    <div className=\"dashboard__wrapper\">\r\n    <div className=\"dashboard__search__task\">\r\n       \r\n        </div>\r\n\r\n        <div className='profile__wrapper'>\r\n    <div className=\"signup__form__wrapper\">\r\n      <div className=\"signup__form\">\r\n          <h2>Profile Update</h2>\r\n          <div className=\"profile__img\">\r\n            <img ref={(input)=>userImgView=input} src={profile.photo} alt=\"\" />\r\n            <input onChange={PreviewImg} ref={(input)=>userImgRef=input} type=\"file\"  placeholder='Email'/>\r\n          </div>\r\n        <div className=\"signup__field\">\r\n          \r\n          <input defaultValue={profile.email} ref={(input)=>emailRef=input} type=\"text\"  placeholder='Email'/>\r\n          <input defaultValue={profile.firstName} ref={(input)=>firstNameRef=input} type=\"text\" placeholder='First Name'/>\r\n          <input defaultValue={profile.lastName} ref={(input)=>lastNameRef=input} type=\"text\"  placeholder='Last Name' />\r\n          <input defaultValue={profile.mobile} ref={(input)=>phoneRef=input} type=\"text\" placeholder='Phone Number'/>\r\n          <input defaultValue={profile.password} ref={(input)=>passwordRef=input} type={view}  placeholder='Password'/> <span onClick={handleViewPass}>view password</span>\r\n          \r\n         \r\n          <input onClick={onSubmit} className='signup__btn' type=\"button\" value=\"Update\" />\r\n         \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n        \r\n\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module"}